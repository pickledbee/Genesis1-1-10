document.addEventListener('DOMContentLoaded', function() {
  // Data
  const verses = [
    {
      num: 1,
      text: "In the beginning God created the heavens and the earth.",
      insights: [
        "The Hebrew phrase \"In the beginning\" (בְּרֵאשִׁ֖ית, bereshit) is the title of the book in Hebrew",
        "The word for \"God\" is Elohim (אֱלֹהִ֑ים), which is grammatically plural but takes singular verbs",
        "The verb \"created\" (בָּרָ֣א, bara) is used exclusively for divine activity in the Bible"
      ]
    },
    {
      num: 2,
      text: "Now the earth was formless and empty, darkness was over the surface of the deep, and the Spirit of God was hovering over the waters.",
      insights: [
        "The phrase \"formless and empty\" (תֹ֙הוּ֙ וָבֹ֔הוּ, tohu wabohu) is a poetic expression describing primordial chaos",
        "The \"Spirit of God\" (ר֣וּחַ אֱלֹהִ֔ים, ruach Elohim) can also be translated as \"wind of God\" or \"breath of God\"",
        "The verb \"hovering\" (מְרַחֶ֖פֶת, merachefet) is used elsewhere only in Deuteronomy 32:11 where an eagle hovers over its young"
      ]
    },
    {
      num: 3,
      text: "And God said, \"Let there be light,\" and there was light.",
      insights: [
        "This introduces the pattern of creation by divine speech that continues throughout the chapter",
        "The immediacy of fulfillment (\"and there was light\") demonstrates God's absolute authority",
        "Light is created before the sun (which appears on day 4), emphasizing God as the ultimate source of light"
      ]
    },
    {
      num: 4,
      text: "God saw that the light was good, and he separated the light from the darkness.",
      insights: [
        "The declaration that creation is \"good\" (טוֹב, tov) establishes a fundamental affirmation of creation's value",
        "The act of \"separation\" is a key creative activity in Genesis 1, bringing order from chaos",
        "God doesn't eliminate darkness but assigns it a proper place, showing that order involves appropriate boundaries"
      ]
    },
    {
      num: 5,
      text: "God called the light \"day,\" and the darkness he called \"night.\" And there was evening, and there was morning—the first day.",
      insights: [
        "The act of naming demonstrates authority and sovereignty in ancient Near Eastern culture",
        "The Hebrew day begins with evening (\"there was evening and morning\"), a pattern that continued in Jewish tradition",
        "The Hebrew literally says \"day one\" (י֥וֹם אֶחָֽד, yom echad) rather than \"first day,\" possibly emphasizing its uniqueness"
      ]
    },
    {
      num: 6,
      text: "And God said, \"Let there be a vault between the waters to separate water from water.\"",
      insights: [
        "The \"vault\" or \"firmament\" (רָקִ֖יעַ, raqia) was understood in ancient cosmology as a solid dome holding back cosmic waters",
        "This reflects ancient Near Eastern cosmology while reinterpreting it within monotheistic theology",
        "The separation of waters continues the theme of God bringing order through establishing boundaries"
      ]
    },
    {
      num: 7,
      text: "So God made the vault and separated the water under the vault from the water above it. And it was so.",
      insights: [
        "The phrase \"and it was so\" (וַֽיְהִי־כֵֽן, wayehi chen) emphasizes the effectiveness of God's creative command",
        "This is the first use of the verb \"made\" (וַיַּ֣עַשׂ, ya'as) rather than \"created,\" indicating formation from existing materials",
        "Ancient cosmology envisioned waters above and below the sky dome, explaining rain and underground springs"
      ]
    },
    {
      num: 8,
      text: "God called the vault \"sky.\" And there was evening, and there was morning—the second day.",
      insights: [
        "The Hebrew word for \"sky\" is literally \"heavens\" (שָׁמָ֑יִם, shamayim), connecting to verse 1",
        "Unlike the other days, day two lacks the evaluation formula \"God saw that it was good\"",
        "Some interpreters suggest this is because the separation of waters remains incomplete until day three when dry land appears"
      ]
    },
    {
      num: 9,
      text: "And God said, \"Let the water under the sky be gathered to one place, and let dry ground appear.\" And it was so.",
      insights: [
        "The gathering of waters introduces a new creative action beyond separation and naming",
        "The appearance of dry land doesn't involve creation but revealing what was covered, showing God's control over chaotic waters",
        "This verse completes the \"forming\" phase of creation (days 1-3) that establishes the cosmic spaces"
      ]
    },
    {
      num: 10,
      text: "God called the dry ground \"land,\" and the gathered waters he called \"seas.\" And God saw that it was good.",
      insights: [
        "The naming of \"land\" (אֶ֔רֶץ, eretz) and \"seas\" (יַמִּ֑ים, yamim) completes God's ordering of the physical environment",
        "With this verse, the evaluation formula \"it was good\" returns, suggesting the water separation begun on day two is now complete",
        "The stage is now set for the creation of vegetation that follows in verse 11"
      ]
    }
  ];

  const themes = [
    {
      title: "Creation Ex Nihilo",
      content: "Genesis 1:1 has traditionally been interpreted to teach creation 'out of nothing' (ex nihilo), though the text itself doesn't explicitly state whether matter existed before God began to create. What's clear is that nothing exists independently of God's creative activity."
    },
    {
      title: "God's Sovereignty",
      content: "The text portrays God as completely sovereign over all elements of creation. Unlike other ancient Near Eastern creation accounts, there's no struggle against chaos or other deities. Creation obeys God's commands immediately."
    },
    {
      title: "Divine Speech",
      content: "God creates through speaking, establishing the power of divine language. This theme of God's creative and powerful word continues throughout Scripture and finds ultimate expression in John's Gospel, which begins 'In the beginning was the Word.'"
    },
    {
      title: "Order from Chaos",
      content: "Creation proceeds in a logical sequence from chaos to order. God separates, distinguishes, and orders creation. Each element has its proper place and purpose, establishing a fundamental orderliness to the universe that reflects God's character."
    }
  ];

  const connections = [
    {
      title: "John 1:1-5",
      content: "John's Gospel deliberately echoes Genesis 1 with 'In the beginning was the Word.' John identifies Jesus as the Word who was present at creation and through whom all things were made, connecting creation to redemption."
    },
    {
      title: "Psalm 33:6-9",
      content: "'By the word of the LORD the heavens were made... For he spoke, and it came to be; he commanded, and it stood firm.' This psalm celebrates the same creative power through divine speech found in Genesis 1."
    },
    {
      title: "Colossians 1:15-17",
      content: "Paul writes of Christ that 'all things were created through him and for him... and in him all things hold together,' connecting Jesus not only to the initial act of creation but to its ongoing sustenance."
    },
    {
      title: "Revelation 21:1-5",
      content: "The Bible ends with a vision of 'a new heaven and a new earth,' bookending Scripture with creative acts of God. The God who creates in Genesis 1 will ultimately remake creation, fulfilling its purpose."
    }
  ];

  // Populate verses
  const versesContainer = document.getElementById('verses-container');
  verses.forEach(verse => {
    const verseDiv = document.createElement('div');
    verseDiv.className = 'verse-item';
    verseDiv.innerHTML = `
      <span class="verse-num">${verse.num}</span>
      <p class="verse-text">${verse.text}</p>
      <div class="verse-insights">
        <h4 class="insights-title">Key Insights:</h4>
        <ul class="insights-list">
          ${verse.insights.map(insight => `<li>${insight}</li>`).join('')}
        </ul>
      </div>
    `;
    versesContainer.appendChild(verseDiv);

    // Add click event to toggle insights
    verseDiv.addEventListener('click', function() {
      const insights = this.querySelector('.verse-insights');
      insights.classList.toggle('active');
    });
  });

  // Populate themes
  const themesContainer = document.getElementById('themes-container');
  themes.forEach(theme => {
    const themeDiv = document.createElement('div');
    themeDiv.className = 'theme-card';
    themeDiv.innerHTML = `
      <h3 class="theme-title">${theme.title}</h3>
      <p>${theme.content}</p>
    `;
    themesContainer.appendChild(themeDiv);
  });

  // Populate connections
  const connectionsContainer = document.getElementById('connections-container');
  connections.forEach(connection => {
    const connectionDiv = document.createElement('div');
    connectionDiv.className = 'connection-card';
    connectionDiv.innerHTML = `
      <h3 class="connection-title">${connection.title}</h3>
      <p>${connection.content}</p>
    `;
    connectionsContainer.appendChild(connectionDiv);
  });

  // Tab switching
  const tabButtons = document.querySelectorAll('.tab-button');
  const contentSections = document.querySelectorAll('.content-section');

  tabButtons.forEach(button => {
    button.addEventListener('click', function() {
      // Remove active class from all buttons
      tabButtons.forEach(btn => btn.classList.remove('active'));
      
      // Add active class to clicked button
      this.classList.add('active');
      
      // Hide all content sections
      contentSections.forEach(section => section.classList.remove('active'));
      
      // Show corresponding content section
      const tabId = this.id.replace('tab-', '');
      document.getElementById(`${tabId}-content`).classList.add('active');
    });
  });
});